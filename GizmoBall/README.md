# GizmoBall Lab
## 问题描述
设计并实现弹球游戏（类似三维弹球）
## 需求分析
### 元件种类及特性
- 边界(border)：系统初始化时自动放置，球碰到后会反弹并损失速度
- 方形(rectangle)：可拖拽物体，游戏开始后不可移动，球碰到后会反弹并损失速度
- 圆形(circle)：可拖拽物体，游戏开始后不可移动，球碰到后会反弹并损失速度
- 三角形(triangle)：可拖拽物体，游戏开始后不可移动，球碰到后会反弹并损失速度
- 黑洞(black hole)：可拖拽物体，游戏开始后不可移动，会对球产生吸引力（和距离平方成反比），球碰到后会消失
- 直管道(pipe)：可拖拽物体，游戏开始后不可移动，球碰到管壁会反弹，管道内最低速度30/tick，不受重力，引力，摩擦力影响
- 弯管道(curved pipe)：可拖拽物体，游戏开始后不可移动，球碰到管壁会反弹，管道内最低速度90/tick，不受重力，引力，摩擦力影响
- 左挡板(left flipper)：可拖拽物体，游戏开始后可绕轴旋转，球碰到后会反弹并被传递速度
- 右挡板(right flipper)：可拖拽物体，游戏开始后可绕轴旋转，球碰到后会反弹并被传递速度
- 球(ball)：可拖拽物体，游戏开始后随重力自由落体
### 操作种类
- 添加(add)：拖拽物体到画布上以添加物体，添加时物体不可重叠，否则提示**操作物件失败：物件重叠**
- 选中(select)：单击以选中物体，此时物体会高亮提示
- 删除(delete)：删除选中物体
- 放大(zoom out)：放大选中物体，放大时物体不可重叠，否则提示**操作物件失败：物件重叠**
- 缩小(zoom in)：缩小选中物体，不能将物体缩小到小于一格，否则提示**操作物件失败：物件已经最小**
- 旋转(rotate)：旋转选中物体
- 移动(move)：移动选中物体，移动时物体不可重叠，否则提示**操作物件失败：物件重叠**
- 加载文件(load)：加载存档文件（json）到游戏中，若加载失败则提示**报错信息**
- 保存文件(save)：保存当前游戏信息到存档文件（json）中，若保存失败则提示**报错信息**
- 清空(clear)：清空画布上所有物体
- 游戏(play)：进入游戏模式
- 设计(design)：进入设计模式
### 规则约束
- 游戏模式下禁止除切换模式外的任何操作
- 设计模式切换到游戏模式时自动在本目录下创建名为 `.snapshot.json` 的存档
- 球全消失后自动切换到设计模式
### 快捷键
- W：上移元件
- A：左移元件
- S：下移元件
- D：右移元件
- DEL：删除元件
- SHIFT：左旋元件
- CTRL：右旋元件
- ENTER：模式切换
- <-：左挡板摆动
- ->：右挡板摆动
- F1：调试模式
## 类的职责
TODO
## 设计思想
TODO
## 类图
![Gizmoball](https://fastly.jsdelivr.net/gh/D-Sketon/blog-img/Gizmoball_ClassModel.png)
